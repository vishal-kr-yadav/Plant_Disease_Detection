{%extends 'base.html' %}
{% block body%}

<div class="row page-intro">
	<div class="col-lg-12">
		<h1>Text API
		</h1>
	</div>
</div>

<div class="row">
  <form class="form-inline", id='test_form' method="POST" >
      {{ form.hidden_tag() }}
    <div class="form-group">
        {{ form.text(size=130, class="form-control" , placeholder="Type your text here...") }}
    </div>
    <button type="submit" class="btn btn-primary">Analyse</button>
  </form>
            
</div>
{% if data %}
<hr>

<div class="container">
    <h2>NLP</h2>
    <p><i>{{form.text.data}}</i></p>            
    <table class="table table-hover">
        <tbody>
        <tr>
          <td class="col-md-2">Polarity</td>
          <td>{{'{0:0.2f}'.format(data.polarity)}}</td>
          </tr>
          <tr>
              <td >Discrete Sentiment</td>
              <td>{{data.discrete_sentiment}}</td>
          </tr>
          <tr>
              <td>Word Count</td>
              <td>{{data.word_count}}</td>
          </tr>
          <tr>
              <td>Subjectivity</td>
              <td>{{'{0:0.2f}'.format(data.subjectivity)}}</td>
          </tr>
          <tr>
              <td>Chunks</td>
              <td>{{data.chunks}}</td>
          </tr>
          <tr>
              <td>Tags</td>
              <td>{{data.tags}}</td>
          </tr>
          
      </tbody>
      
    </table>
  </div>

{% endif %}
<hr>
<p><small><i> You can also use the api at '/v1/api/text' with payload 'data'. <br> Example Url:<br> curl -d data="I love Python" http://bkrmdahal.pythonanywhere.com/v1/api/text -X POST</i> </small></p>

        <!-- /.row -->
{% endblock %}